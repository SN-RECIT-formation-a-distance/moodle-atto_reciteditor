YUI.add("moodle-atto_reciteditor-button",function(t,e){t.namespace("M.atto_reciteditor").Button=t.Base.create("button",t.M.editor_atto.EditorPlugin,[],{initializer:function(){this.addButton({title:"htmleditor",icon:"html",iconComponent:"atto_reciteditor",callback:this.openHtmlEditor,buttonName:"htmleditor"})},openHtmlEditor:function(t){var e,i,o;t.preventDefault(),e=this,i=M.cfg.wwwroot,i+="/lib/editor/atto/plugins/reciteditor/build/index.php",((o=window.open(i,"Éditeur RÉCIT","scrollbars=1")).outerWidth<screen.availWidth||o.outerHeight<screen.availHeight)&&(o.moveTo(0,0),o.resizeTo(screen.availWidth,screen.availHeight)),o.attoInterface={},o.attoInterface.getSettings=function(){var t={};return t.contextId=M.cfg.contextid,t.wwwroot=M.cfg.wwwroot,t.theme=M.cfg.theme,t.themerev=M.cfg.themerev,t},o.attoInterface.getFileTransferData=function(){var t,e=this.get("host"),i=e.get("filepickeroptions").image||{},o={repo_id:0};for(t in o.client_id=i.client_id||0,o.env=i.env||"",o.license=i.defaultlicense||"",o.itemid=i.itemid||0,o.author=i.author||"",t="",i.repositories)if("upload"===i.repositories[t].type){o.repo_id=i.repositories[t].id;break}for(t in i.licenses)if("cc"===i.licenses[t].shortname){o.license=i.licenses[t].shortname;break}return o},o.attoInterface.getContent=function(){return e.editor.getHTML()},o.attoInterface.setContent=function(t){e.editor.setHTML(t),o.close()}}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});